## 事项

- Ansible `192.168.160.50`
- 测试环境配置 `192.168.160.29:/data01/kube-manifest/`
    - 根目录下为k8s基础组件配置
    - app: 各个应用的配置
    - elk: logstash filebeat kibana配置
    - monitor: 监控prometheus配置

### 安装
- [x] docker自动化安装脚本
- [x] ES自动化安装脚本
- [x] harbor自动化安装脚本
- [x] java环境自动化安装脚本
- [x] kafka自动化安装脚本
- [x] keepalived自动化安装脚本
- [x] Keeaplived check(含Nginx、k8s master、Harbor检查)脚本
- [x] K8S依赖RPM自动化安装脚本
- [x] K8S Master Init自动化脚本
- [x] K8S Worker Join自动化脚本
- [x] Nginx自动化安装脚本
- [x] Ravencast自动化安装脚本(4组)
- [x] Redis自动化安装脚本
- [x] Prometheus自动化部署脚本
- [x] Grafana自动化部署脚本
- [x] K8S组件(calico/traefik/metrics/dashboard)自动化部署脚本
- [x] Logstash/Kibana/Filebeat自动化部署脚本
- [x] rocketmq自动化安装脚本
- [x] K8S证书刷新自动化脚本
- [x] K8S定时备份自动化脚本
- [x] 组件安装自动生成访问地址脚本
- [x] 服务器DC标签(按二期机房给K8S节点打标签)脚本
- [x] K8S集群数据备份脚本（目前备份找不到文件）
- [x] K8S集群时区调整脚本
- [x] NAS服务器自动安装脚本
- [x] docker数据清理脚本
- [x] ES数据清理脚本
- [x] busybox部署
- [x] 外部节点监控
- [x] 外部节点进程监控
- [ ] openldap安装脚本
- [ ] 禅道安装脚本
- [ ] svn安装脚本
- [ ] jenkins安装脚本

### 监控

> 监控指标收集配置为自动发现，应用Service配置参考[demo-deployment.yml](roles/install-app/files/demo-deployment.yml)
> 集群外应用添加Endpoints即可，需各个应用配合配置

- [x] MES监控指标收集(JVM、每分钟/秒接口请求数、接口请求时间、进程死活)
- [x] RMS监控指标收集(SERVICE执行时间、每分钟/秒执行个数、RMS存活性)
- [x] SPC监控指标(JVM)
- [x] 数据库监控指标
- [x] ELK指标收集
- [x] Redis监控
- [x] Rocketmq监控
- [x] VM基本信息(内存、IO、CPU、磁盘)
- [ ] 硬件监控(2288服务器、存储--2个型号、交换机)
- [x] License监控(MES、Ravencast)
- [x] fdc/apc 监控告警(bistel已有)

### dashboard

- [x] MES/RMS/SPC/AMS监控指标
- [x] Redis指标
- [x] ELK指标
- [x] Rocketmq指标
- [x] VM基本信息指标
- [x] K8S监控指标
- [x] 数据库指标
- [x] License到期数据(MES、Ravencast)

### 日志采集

- [x] MES日志对接
- [x] RMS日志对接
- [x] SPC日志对接
- [x] AMS日志对接
- [x] Nginx日志收集
- [x] Rocketmq日志滚动
- [ ] 日志报表

### 告警

- [x] MES/RMS/AMS/EAP/告警策略
- [x] 应用存活性监控
- [x] Ravencast、Rocketmq、Redis、Nginx、ELK中间件告警策略
- [x] License告警策略(MES、Ravencast)

### 方案文档

- [ ] 日志方案输出
- [ ] 监控告警方案文档
- [ ] 深化设计文档(K8S、HARBOR、prometheus、elk、nginx、redis、jenkins、svn、禅道等)
- [ ] 原子钟方案
- [ ] 关键技术方案拉通

### 其他事项

- [ ] 二期服务器相关事项(应用服务器清单、规格、磁盘划分、YUM源等)
- [ ] 跨区防火墙规则
- [ ] 二期专家(存储、数通网络、fc、防火墙)协调
- [ ] AMS容器化部署对齐
- [ ] sit uat pirun 压测环境维护(虚机、各种基础环境搭建)
- [ ] Nginx应用(spc/rms)配置初始化
- [x] MES/RMS/AMS/SPC亲和、反亲和、容忍、优雅停机调度配置
- [x] 二期完整Harbor包准备(包含spc、rms、mes、redis、kafka、elk、nginx等所有组件的release版本镜像)/二期Harbor镜像同步配置

k8s权限规则 、 服务器用户/用户组权限 、  安装使用非root、openldap、