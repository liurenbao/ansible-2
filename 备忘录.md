改机器名  ip用固定IP  .txt --- 正式环境需要变量控制，很有可能不用改机器名和设置IP
K8S证书刷新
~~traefik externalpolicy用local request limit~~
~~traefik+request+readniess+setupprobe+liveness~~
检查一下k8s的ipforwardfor是不是1 （/etc/sysctl.conf） 

~~docker system prune定时删除~~

###k8s 定时备份

###prometheus  grafana用nas存储

~~所有的依赖都放到harbor.tar.gz 不重新装~~

harbor安装怎么自动化 且快？？

--- 单独写校验的role K8S校验POD是否全部ok kubectl get pod -A | grep -v Running

keepalived检查脚本

kubeadm init --control-plane-endpoint="192.168.160.124:6443"  --image-repository="192.168.160.47:8888/google_containers" --pod-network-cidr="10.244.0.0/16" --kubernetes-version=1.18.19 --upload-certs

&&& 脚本跑完把 dashboard地址/token，grafana地址/密码，kibana地址/密码打印到文件保存，harbor地址/用户名密码
traefik地址/密码，Nginx地址 ， K8S master地址，Redis地址

* ~~prometheus压缩拷贝、template文件分开单独拷~~
* ~~Harbor安装~~
* Nginx安装脚本 
* keepalived 检测脚本(Nginx、Harbor、K8S Master)
* 两套kafka，使用[groupname:vars]定义不同group的var，playbook的hosts写多个hosts
* 日志对接
* 监控指标对接 --- 待完善
* k8s node需要打标签 dc1/dc2
* logstash 需要设置nodeSelector(dc1和dc2的不一样)
* logstash/filebeat 设置resource limit
* mes/rms 设置亲和调度，平均分配到两个dc
* ELK exporter  -- https://grafana.com/grafana/dashboards/2322
* Redis 
* RocketMQ脚本 -- 改IP的那个问题要解决了
* etcd备份每天一次
* docker清理改成一个月清理一次
* 二期harbor包含各应用镜像
* 二期harbor安装好包含harbor同步配置
* 二期Nginx安装包含应用Nginx配置(SPC,RMS)--- 跟FA优化过的配置要加上
* Nginx日志收集，保留xx天
* keepalived check脚本
* kafka partition设置
* grafana模板 
* 公共组件要用K8S master的vip访问的到
* k8s secret创建 ----
* 各namespace的secret ----
* busybox传到私服 ----
* rocketmq 给spc建topic ----
* eap process exporter
* 非K8S Node exporter
* K8S 证书到期告警
* Harbor安装完成，配置同步
* [ravencast-fdc和[ravencast-apc都必须有，不然monitor要报错